import{A as C}from"./AppNetworkError.08fdcf9d.js";import{o as m,a as q,j as E,v as D,b as c,n as _,k as A,l as B,m as M,q as T,h as I,s as v,u as b,d as j,_ as $,r as x,c as P,e as S,x as L,p as U,i as z}from"./index.c229a5ea.js";var N={name:"Toggle",emits:["input","update:modelValue","change"],props:{value:{validator:function(e){return a=>["number","string","boolean"].indexOf(typeof a)!==-1||a==null},required:!1},modelValue:{validator:function(e){return a=>["number","string","boolean"].indexOf(typeof a)!==-1||a==null},required:!1},id:{type:[String,Number],required:!1,default:"toggle"},name:{type:[String,Number],required:!1,default:"toggle"},disabled:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},falseValue:{type:[String,Number,Boolean],required:!1,default:!1},trueValue:{type:[String,Number,Boolean],required:!1,default:!0},onLabel:{type:[String,Object],required:!1,default:""},offLabel:{type:[String,Object],required:!1,default:""},classes:{type:Object,required:!1,default:()=>({})},labelledby:{type:String,required:!1},describedby:{type:String,required:!1},aria:{required:!1,type:Object,default:()=>({})}},setup(e,a){const t=function(o,i,n){const{value:u,modelValue:s,falseValue:d,trueValue:l,disabled:p}=v(o),r=s&&s.value!==void 0?s:u,g=b(()=>r.value===l.value),f=h=>{i.emit("input",h),i.emit("update:modelValue",h),i.emit("change",h)},V=()=>{f(l.value)},O=()=>{f(d.value)};return[null,void 0,!1,0,"0","off"].indexOf(r.value)!==-1&&[d.value,l.value].indexOf(r.value)===-1&&O(),[!0,1,"1","on"].indexOf(r.value)!==-1&&[d.value,l.value].indexOf(r.value)===-1&&V(),{externalValue:r,checked:g,update:f,check:V,uncheck:O,handleInput:h=>{f(h.target.checked?l.value:d.value)},handleClick:()=>{p.value||(g.value?O():V())}}}(e,a),k=function(o,i,n){const{trueValue:u,falseValue:s,onLabel:d,offLabel:l}=v(o),p=n.checked,r=n.update;return{label:b(()=>{let g=p.value?d.value:l.value;return g||(g="&nbsp;"),g}),toggle:()=>{r(p.value?s.value:u.value)},on:()=>{r(u.value)},off:()=>{r(s.value)}}}(e,0,{checked:t.checked,update:t.update}),y=function(o,i,n){const u=v(o),s=u.disabled,d=n.checked,l=b(()=>({container:"toggle-container",toggle:"toggle",toggleOn:"toggle-on",toggleOff:"toggle-off",toggleOnDisabled:"toggle-on-disabled",toggleOffDisabled:"toggle-off-disabled",handle:"toggle-handle",handleOn:"toggle-handle-on",handleOff:"toggle-handle-off",handleOnDisabled:"toggle-handle-on-disabled",handleOffDisabled:"toggle-handle-off-disabled",label:"toggle-label",...u.classes.value}));return{classList:b(()=>({container:l.value.container,toggle:[l.value.toggle,s.value?d.value?l.value.toggleOnDisabled:l.value.toggleOffDisabled:d.value?l.value.toggleOn:l.value.toggleOff],handle:[l.value.handle,s.value?d.value?l.value.handleOnDisabled:l.value.handleOffDisabled:d.value?l.value.handleOn:l.value.handleOff],label:l.value.label}))}}(e,0,{checked:t.checked}),w=function(o,i,n){const{disabled:u}=v(o),s=n.check,d=n.uncheck,l=n.checked;return{handleSpace:()=>{u.value||(l.value?d():s())}}}(e,0,{check:t.check,uncheck:t.uncheck,checked:t.checked});return{...t,...y,...k,...w}}};const H=["tabindex","aria-checked","aria-describedby","aria-labelledby"],K=["id","name","value","checked","disabled"],R=["innerHTML"],F=["checked"];N.render=function(e,a,t,k,y,w){return m(),q("div",M({class:e.classList.container,tabindex:t.disabled?void 0:0,"aria-checked":e.checked,"aria-describedby":t.describedby,"aria-labelledby":t.labelledby,role:"switch"},t.aria,{onKeypress:a[1]||(a[1]=T(I((...o)=>e.handleSpace&&e.handleSpace(...o),["prevent"]),["space"]))}),[E(c("input",{type:"checkbox",id:t.id,name:t.name,value:t.trueValue,checked:e.checked,disabled:t.disabled},null,8,K),[[D,!1]]),c("div",{class:_(e.classList.toggle),onClick:a[0]||(a[0]=(...o)=>e.handleClick&&e.handleClick(...o))},[c("span",{class:_(e.classList.handle)},null,2),A(e.$slots,"label",{checked:e.checked,classList:e.classList},()=>[c("span",{class:_(e.classList.label),innerHTML:e.label},null,10,R)]),t.required?(m(),q("input",{key:0,type:"checkbox",style:{appearance:"none",height:"1px",margin:"0",padding:"0",fontSize:"0",background:"transparent",position:"absolute",width:"100%",bottom:"0",outline:"none"},checked:e.checked,"aria-hidden":"true",tabindex:"-1",required:""},null,8,F)):B("v-if",!0)],2)],16,H)},N.__file="src/Toggle.vue";const G=j({name:"SettingsView",components:{AppNetworkError:C,AppSwitch:N},methods:{toggleTheme(){this.settings.theme=this.settings.theme=="darkMode"?"":"darkMode",document.documentElement.setAttribute("data-theme",this.settings.theme),localStorage.setItem("theme",this.settings.theme)}},data:()=>({networkError:!1,settings:{darkMode:!0,theme:"",showNetworkError:!1,allowPushNotifications:!1}})});const J=e=>(U("data-v-e1046c1b"),e=e(),z(),e),Q={key:1},W=J(()=>c("h2",null,"Settings",-1)),X={id:"settings-control"},Y=L(" dark mode "),Z=L(" network error message "),ee=L(" allow push notifications ");function le(e,a,t,k,y,w){const o=x("AppNetworkError"),i=x("AppSwitch");return e.networkError?(m(),P(o,{key:0})):(m(),q("div",Q,[W,c("div",X,[c("div",null,[S(i,{modelValue:e.settings.darkMode,"onUpdate:modelValue":a[0]||(a[0]=n=>e.settings.darkMode=n),onClick:e.toggleTheme},null,8,["modelValue","onClick"]),Y]),c("div",null,[S(i,{modelValue:e.settings.showNetworkError,"onUpdate:modelValue":a[1]||(a[1]=n=>e.settings.showNetworkError=n)},null,8,["modelValue"]),Z]),c("div",null,[S(i,{modelValue:e.settings.allowPushNotifications,"onUpdate:modelValue":a[2]||(a[2]=n=>e.settings.allowPushNotifications=n)},null,8,["modelValue"]),ee])])]))}const ne=$(G,[["render",le],["__scopeId","data-v-e1046c1b"]]);export{ne as default};
