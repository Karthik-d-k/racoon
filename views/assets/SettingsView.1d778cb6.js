import{A as C}from"./AppNetworkError.cc097bf9.js";import{o as m,a as q,j as E,v as D,b as c,n as _,k as A,l as B,m as M,q as T,h as j,s as v,u as b,d as $,_ as P,r as x,c as I,e as S,x as L}from"./index.16203f2c.js";var N={name:"Toggle",emits:["input","update:modelValue","change"],props:{value:{validator:function(e){return a=>["number","string","boolean"].indexOf(typeof a)!==-1||a==null},required:!1},modelValue:{validator:function(e){return a=>["number","string","boolean"].indexOf(typeof a)!==-1||a==null},required:!1},id:{type:[String,Number],required:!1,default:"toggle"},name:{type:[String,Number],required:!1,default:"toggle"},disabled:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},falseValue:{type:[String,Number,Boolean],required:!1,default:!1},trueValue:{type:[String,Number,Boolean],required:!1,default:!0},onLabel:{type:[String,Object],required:!1,default:""},offLabel:{type:[String,Object],required:!1,default:""},classes:{type:Object,required:!1,default:()=>({})},labelledby:{type:String,required:!1},describedby:{type:String,required:!1},aria:{required:!1,type:Object,default:()=>({})}},setup(e,a){const t=function(o,s,n){const{value:u,modelValue:i,falseValue:d,trueValue:l,disabled:f}=v(o),r=i&&i.value!==void 0?i:u,g=b(()=>r.value===l.value),p=h=>{s.emit("input",h),s.emit("update:modelValue",h),s.emit("change",h)},V=()=>{p(l.value)},O=()=>{p(d.value)};return[null,void 0,!1,0,"0","off"].indexOf(r.value)!==-1&&[d.value,l.value].indexOf(r.value)===-1&&O(),[!0,1,"1","on"].indexOf(r.value)!==-1&&[d.value,l.value].indexOf(r.value)===-1&&V(),{externalValue:r,checked:g,update:p,check:V,uncheck:O,handleInput:h=>{p(h.target.checked?l.value:d.value)},handleClick:()=>{f.value||(g.value?O():V())}}}(e,a),k=function(o,s,n){const{trueValue:u,falseValue:i,onLabel:d,offLabel:l}=v(o),f=n.checked,r=n.update;return{label:b(()=>{let g=f.value?d.value:l.value;return g||(g="&nbsp;"),g}),toggle:()=>{r(f.value?i.value:u.value)},on:()=>{r(u.value)},off:()=>{r(i.value)}}}(e,0,{checked:t.checked,update:t.update}),y=function(o,s,n){const u=v(o),i=u.disabled,d=n.checked,l=b(()=>({container:"toggle-container",toggle:"toggle",toggleOn:"toggle-on",toggleOff:"toggle-off",toggleOnDisabled:"toggle-on-disabled",toggleOffDisabled:"toggle-off-disabled",handle:"toggle-handle",handleOn:"toggle-handle-on",handleOff:"toggle-handle-off",handleOnDisabled:"toggle-handle-on-disabled",handleOffDisabled:"toggle-handle-off-disabled",label:"toggle-label",...u.classes.value}));return{classList:b(()=>({container:l.value.container,toggle:[l.value.toggle,i.value?d.value?l.value.toggleOnDisabled:l.value.toggleOffDisabled:d.value?l.value.toggleOn:l.value.toggleOff],handle:[l.value.handle,i.value?d.value?l.value.handleOnDisabled:l.value.handleOffDisabled:d.value?l.value.handleOn:l.value.handleOff],label:l.value.label}))}}(e,0,{checked:t.checked}),w=function(o,s,n){const{disabled:u}=v(o),i=n.check,d=n.uncheck,l=n.checked;return{handleSpace:()=>{u.value||(l.value?d():i())}}}(e,0,{check:t.check,uncheck:t.uncheck,checked:t.checked});return{...t,...y,...k,...w}}};const U=["tabindex","aria-checked","aria-describedby","aria-labelledby"],z=["id","name","value","checked","disabled"],H=["innerHTML"],K=["checked"];N.render=function(e,a,t,k,y,w){return m(),q("div",M({class:e.classList.container,tabindex:t.disabled?void 0:0,"aria-checked":e.checked,"aria-describedby":t.describedby,"aria-labelledby":t.labelledby,role:"switch"},t.aria,{onKeypress:a[1]||(a[1]=T(j((...o)=>e.handleSpace&&e.handleSpace(...o),["prevent"]),["space"]))}),[E(c("input",{type:"checkbox",id:t.id,name:t.name,value:t.trueValue,checked:e.checked,disabled:t.disabled},null,8,z),[[D,!1]]),c("div",{class:_(e.classList.toggle),onClick:a[0]||(a[0]=(...o)=>e.handleClick&&e.handleClick(...o))},[c("span",{class:_(e.classList.handle)},null,2),A(e.$slots,"label",{checked:e.checked,classList:e.classList},()=>[c("span",{class:_(e.classList.label),innerHTML:e.label},null,10,H)]),t.required?(m(),q("input",{key:0,type:"checkbox",style:{appearance:"none",height:"1px",margin:"0",padding:"0",fontSize:"0",background:"transparent",position:"absolute",width:"100%",bottom:"0",outline:"none"},checked:e.checked,"aria-hidden":"true",tabindex:"-1",required:""},null,8,K)):B("v-if",!0)],2)],16,U)},N.__file="src/Toggle.vue";const R=$({name:"SettingsView",components:{AppNetworkError:C,AppSwitch:N},methods:{toggleTheme(){this.settings.theme=this.settings.theme=="darkMode"?"":"darkMode",document.documentElement.setAttribute("data-theme",this.settings.theme),localStorage.setItem("theme",this.settings.theme)}},data:()=>({networkError:!1,settings:{darkMode:!0,theme:"",showNetworkError:!1,allowPushNotifications:!1}})});const F={key:1},G={id:"settings-control"},J=L(" dark mode "),Q=L(" network error message "),W=L(" allow push notifications ");function X(e,a,t,k,y,w){const o=x("AppNetworkError"),s=x("AppSwitch");return e.networkError?(m(),I(o,{key:0})):(m(),q("div",F,[c("div",G,[c("div",null,[S(s,{modelValue:e.settings.darkMode,"onUpdate:modelValue":a[0]||(a[0]=n=>e.settings.darkMode=n),onClick:e.toggleTheme},null,8,["modelValue","onClick"]),J]),c("div",null,[S(s,{modelValue:e.settings.showNetworkError,"onUpdate:modelValue":a[1]||(a[1]=n=>e.settings.showNetworkError=n)},null,8,["modelValue"]),Q]),c("div",null,[S(s,{modelValue:e.settings.allowPushNotifications,"onUpdate:modelValue":a[2]||(a[2]=n=>e.settings.allowPushNotifications=n)},null,8,["modelValue"]),W])])]))}const ee=P(R,[["render",X],["__scopeId","data-v-de4705bc"]]);export{ee as default};
