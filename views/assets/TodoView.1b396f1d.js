import{y as N,z as T,g as A,I as v,_ as S,r as n,o as i,a as c,b as s,e as t,t as g,d as O,B as z,f as R,A as D,S as U,C as q,D as y,c as m,F as w,E as P,w as l,j as h,v as f,n as j,h as F,p as H,i as J}from"./index.62e5137c.js";import{A as K,a as G}from"./AppEmptyState.ad141902.js";import{A as Q}from"./AppNetworkError.f29a3921.js";const I=N("todoStore",{state:()=>({todoArray:null,userId:null,noOfRows:10,pageIndex:1,isLoading:!1}),getters:{getAllTodo:o=>o.todoArray},actions:{async fetchAllTodo(){const o=T();try{const e=o.getAuthToken,{data:d}=await A.get("/todo",{headers:{Authorization:`Bearer ${e}`}});this.todoArray=d.data.todo,this.noOfRows=d.data.noOfRows,this.pageIndex=d.DataTransfer.CurrentPage,console.log(JSON.stringify(d))}catch{}},async createTodo(o){const e=T();this.isLoading=!0;try{const d=e.getAuthToken,{data:r}=await A.post("/todo",{...o},{headers:{Authorization:`Bearer ${d}`}});r.success&&(this.fetchAllTodo(),this.isLoading=!1,o.title="",o.description=""),console.log(JSON.stringify(r))}catch(d){console.log(d)}this.isLoading=!1}}}),W={name:"AppTodoItem",components:{Icon:v},props:{todo:{type:Object,required:!0,default:()=>({title:"Todo title",description:"Todo description"})}}};const X={class:"todo__item"},Y={class:"todo__item__header__actions__delete"},Z={class:"todo__item__header"},x={class:"todo__item__header__title"},oo={class:"todo__item__header__actions"},eo={class:"todo__item__header__actions__edit"},to={class:"todo__item__content"};function so(o,e,d,r,b,k){const p=n("Icon");return i(),c("div",X,[s("div",Y,[t(p,{icon:"mdi:close-circle-outline"})]),s("div",null,[s("div",Z,[s("div",x,[s("h3",null,g(d.todo.title),1)]),s("div",oo,[s("div",eo,[t(p,{icon:"mdi:clipboard-edit-outline"})])])]),s("div",to,[s("p",null,g(d.todo.description),1)])])])}const no=S(W,[["render",so],["__scopeId","data-v-849102de"]]),ao=O({name:"TodoView",components:{BaseButton:z,Icon:v,AppModal:K,BaseTextInput:R,AppEmptyState:G,AppListItem:D,AppTodoItem:no,AppNetworkError:Q,Spinner:U},data:()=>({showTodoModal:!1,todo:{title:"",description:"",date:""}}),mounted(){console.log("mounted")},beforeMount(){this.makeTodoRequest(),console.log("beforeMount")},methods:{...q(I,{makeTodoRequest:"fetchAllTodo",createTodo:"createTodo"}),async makeCreateTodo(){this.createTodo({title:this.todo.title,description:this.todo.description}),this.showTodoModal=!1}},computed:{...y(I,["todoArray","isLoading"]),...y(T,{bearerToken:"authorizationToken"}),disabledState(){return this.isLoading===!0}}});const io=o=>(H("data-v-98b990e0"),o=o(),J(),o),lo=io(()=>s("h2",null,"Todo",-1)),ro={key:2},po={class:"header"};function co(o,e,d,r,b,k){const p=n("AppNetworkError"),B=n("AppEmptyState"),$=n("AppTodoItem"),M=n("AppListItem"),C=n("IconPlus"),_=n("BaseButton"),L=n("Icon"),u=n("BaseTextInput"),V=n("Spinner"),E=n("AppModal");return i(),c(w,null,[lo,o.todoArray===null?(i(),m(p,{key:0})):o.todoArray.length?(i(),c("div",ro,[(i(!0),c(w,null,P(o.todoArray,a=>(i(),m(M,null,{default:l(()=>[t($,{todo:a},null,8,["todo"])]),_:2},1024))),256))])):(i(),m(B,{key:1})),s("div",po,[t(_,{text:"add new",class:"add-new-button",onClick:e[0]||(e[0]=a=>o.showTodoModal=!0)},{default:l(()=>[t(C)]),_:1})]),t(_,{text:"",class:"add-new-fab",onClick:e[1]||(e[1]=a=>o.showTodoModal=!0)},{default:l(()=>[t(L,{icon:"mdi:plus"})]),_:1}),h(t(E,{onCloseModal:e[5]||(e[5]=a=>o.showTodoModal=!1),title:"Add New Todo"},{content:l(()=>[s("form",{action:"",onSubmit:e[4]||(e[4]=F((...a)=>o.makeCreateTodo&&o.makeCreateTodo(...a),["prevent"]))},[t(u,{label:"heading",type:"text",placeholder:"heading",modelValue:o.todo.title,"onUpdate:modelValue":e[2]||(e[2]=a=>o.todo.title=a),class:"field"},null,8,["modelValue"]),t(u,{placeholder:"description",label:"description",modelValue:o.todo.description,"onUpdate:modelValue":e[3]||(e[3]=a=>o.todo.description=a),class:"field"},null,8,["modelValue"]),t(u,{placeholder:"github url",label:"due date",type:"date",model:o.todo.date,class:"field"},null,8,["model"]),t(_,{text:"",type:"submit",disabled:o.disabledState,class:j([o.disabledState==!0?"disabled__button":""])},{default:l(()=>[h(s("span",null,"Add Todo",512),[[f,!o.isLoading]]),h(t(V,{"animation-duration":1e3,size:30,color:"#ffffff"},null,512),[[f,o.isLoading]])]),_:1},8,["disabled","class"])],32)]),_:1},512),[[f,o.showTodoModal]])],64)}const ho=S(ao,[["render",co],["__scopeId","data-v-98b990e0"]]);export{ho as default};
