import{z as n,A as i,b as s}from"./index.f8e3d68e.js";const h=n(),o=h.getAuthToken,g=i("todoStore",{state:()=>({noteEntries:[],noOfRows:10,pageIndex:1,isLoading:!1,isFetchingEntries:!1,errorFetchingNotes:!1,errorMessage:""}),getters:{getAllTodo:e=>e.noteEntries,getNoteById:e=>t=>{var r;return(r=e.noteEntries)==null?void 0:r.filter(a=>a.id===String(t))[0]}},actions:{async fetchAllNotes(){this.isLoading=!0;try{const{data:e}=await s.get("/notes?page=1&noOfRows=10",{headers:{Authorization:`Bearer ${o}`}});this.noteEntries=e.data.notes,this.noOfRows=e.data.noOfRows,this.pageIndex=e.DataTransfer.CurrentPage,this.isLoading=!1,console.log(JSON.stringify(e))}catch{this.isLoading=!1}},async createNewEntry(e){n(),this.isLoading=!0;try{const{data:t}=await s.post("/notes",{...e},{headers:{Authorization:`Bearer ${o}`}});return t.success?(this.fetchAllNotes(),this.isLoading=!1,e.title="",e.content="",!0):!1}catch{return this.errorFetchingNotes=!0,this.isLoading=!1,!1}},async deleteNote(e){try{const{data:t}=await s.delete(`/notes/${e}`,{headers:{Authorization:`Bearer ${o}`}});console.log("the note id is ",e),console.log(JSON.stringify(t))}catch{}}}});export{g as u};
