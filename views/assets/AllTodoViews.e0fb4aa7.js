import{d as f,I as T,Z as D,_ as g,r as s,o as a,l as u,g as v,V as q,e as o,f as d,t as A,j as B,v as b,a as C,c as h,p as L,k as E,B as z,S as j,u as H,s as I,z as R,x,F as w,y as O}from"./index.1e245a18.js";import{A as Z}from"./AppModal.ee24828f.js";import{A as G}from"./AppEmptyState.5ca869cc.js";import{u as S}from"./todo.4bfc2f9a.js";let m=!0;const J=f({name:"AppTodoItem",components:{Icon:T,AppListItem:D},data:()=>({}),props:{todo:{type:Object,required:!0,default:()=>({title:"Todo title",description:"Todo description"})}},computed:{isSelected(){return m},priority(){const e=this.todo.priority.toLowerCase().trim();return e==="urgent"?"todo__item--urgent":e==="delicate"?"todo__item--delicate":e==="not-urgent"?"todo__item--not__urgent":e==="delete"?"todo__item--delete":"todo__item--normal"}},mounted(){const e=document.getElementsByClassName("todo__item"),t=1300;for(const n of e)n.addEventListener("mousedown",function(_){setTimeout(r,t);function r(){m=!1,console.log("long press ",m),n.classList.add("is__selected")}}),n.addEventListener("mouseup",function(_){setTimeout(r,t);function r(){console.log("long press"),n.classList.add("is__selected")}})}});const K={class:"todo__item"},Q={class:"todo__item__header__actions__delete"},U={class:"todo__item__header trim__text"},W={class:"todo__item__header__title"},X={class:"todo__item__content"},Y={class:"trim__text"};function ee(e,t,n,_,r,y){const i=s("Icon"),c=s("AppListItem");return a(),u(c,{class:q(e.priority)},{default:v(()=>[o("div",K,[o("div",Q,[d(i,{icon:"mdi:close-circle-outline",onClick:t[0]||(t[0]=l=>e.$emit("delete-todo"))})]),o("div",null,[o("div",U,[o("div",W,[o("h3",null,A(e.todo.title),1)])]),o("div",X,[o("p",Y,A(e.todo.description),1)])]),B(o("div",{class:"todo__item__header__actions",onClick:t[1]||(t[1]=l=>e.$emit("show-options"))},[d(i,{icon:"mdi:dots-vertical",class:"d-none"})],512),[[b,e.isSelected]])])]),_:1},8,["class"])}const oe=g(J,[["render",ee],["__scopeId","data-v-7bcf3f8b"]]),te=f({name:"AppEmptyState",props:{message:{type:String,default:"There is error in your network connection. Please check your connection and try again."}},components:{BaseButton:C,Icon:T},methods:{refreshPage(){window.location.reload()}}}),se="/assets/network-error.3fc7fca8.svg";const ne=e=>(L("data-v-cec126d1"),e=e(),E(),e),de={class:"network__error"},re=ne(()=>o("img",{src:se,alt:"empty state"},null,-1)),ie=["innerHTML"];function ae(e,t,n,_,r,y){const i=s("Icon"),c=s("BaseButton");return a(),h("div",de,[re,o("div",null,[o("p",{innerHTML:e.message},null,8,ie)]),d(c,{text:"refresh",class:"refresh__button",onClick:e.refreshPage},{default:v(()=>[d(i,{icon:"mdi:refresh"})]),_:1},8,["onClick"])])}const ce=g(te,[["render",ae],["__scopeId","data-v-cec126d1"]]),_e=f({name:"TodoView",components:{BaseButton:C,Icon:T,AppModal:Z,BaseTextInput:z,AppEmptyState:G,AppTodoItem:oe,AppNetworkError:ce,Spinner:j},data:()=>({showTodoModal:!1,todo:{title:"",description:"",date:"",priority:""}}),mounted(){console.log("mounted")},created(){this.makeTodoRequest(),console.log("created hook")},methods:{...H(S,{makeTodoRequest:"fetchAllTodo",createTodo:"createTodo",deleteTodo:"deleteTodo"}),async makeCreateTodo(){this.createTodo({...this.todo}),this.showTodoModal=!1},editTodo(e){this.$router.push({name:"edit-todo",params:{noteId:String(e)}})}},computed:{...I(S,["todoArray","isLoading","isFetchingTodoArray","errorFetchingTodo"]),...I(R,{bearerToken:"authorizationToken"}),disabledState(){return this.isLoading===!0}}});const le=e=>(L("data-v-ba651b4e"),e=e(),E(),e),pe={class:"fetching__todo"},me=le(()=>o("p",null,"fetching todo",-1)),ue={class:"header"};function he(e,t,n,_,r,y){var $;const i=s("Spinner"),c=s("AppEmptyState"),l=s("AppTodoItem"),V=s("IconPlus"),M=s("BaseButton");return a(),h(w,null,[B(o("div",pe,[d(i),me],512),[[b,e.isFetchingTodoArray]]),(($=e.todoArray)==null?void 0:$.length)==0?(a(),u(c,{key:0})):x("",!0),(a(!0),h(w,null,O(e.todoArray,({title:k,description:N,id:p,priority:P})=>(a(),u(l,{todo:{title:k,description:N,id:p,priority:P},onDeleteTodo:F=>e.deleteTodo(p),onClick:F=>e.editTodo(p)},null,8,["todo","onDeleteTodo","onClick"]))),256)),o("div",ue,[d(M,{text:"add new",class:"add-new-button",onClick:t[0]||(t[0]=k=>e.showTodoModal=!0)},{default:v(()=>[d(V)]),_:1})])],64)}const ye=g(_e,[["render",he],["__scopeId","data-v-ba651b4e"]]);export{ye as default};
