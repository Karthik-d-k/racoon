import{y as N,z as f,g as T,I as y,_ as S,r as a,o as i,a as p,b as s,e as t,t as A,d as E,B as O,f as z,A as R,S as D,C as U,D as g,c as w,F as I,E as q,w as l,j as m,v as h,n as P,h as j,p as F,i as H}from"./index.ea3e7a30.js";import{A as J,a as K}from"./AppEmptyState.51a21a25.js";import{A as x}from"./AppNetworkError.183c7c11.js";const v=N("todoStore",{state:()=>({todoArray:[],userId:null,noOfRows:10,pageIndex:1,isLoading:!1}),getters:{getAllTodo:o=>o.todoArray},actions:{async fetchAllTodo(){const o=f();try{const e=o.getAuthToken,{data:d}=await T.get("/todo",{headers:{Authorization:`Bearer ${e}`}});this.todoArray=d.data.todo,this.noOfRows=d.data.noOfRows,this.pageIndex=d.DataTransfer.CurrentPage,console.log(JSON.stringify(d))}catch{}},async createTodo(o){const e=f();this.isLoading=!0;try{const d=e.getAuthToken,{data:r}=await T.post("/todo",{...o},{headers:{Authorization:`Bearer ${d}`}});r.success&&(this.fetchAllTodo(),this.isLoading=!1,o.title="",o.description=""),console.log(JSON.stringify(r))}catch(d){console.log(d)}this.isLoading=!1}}}),G={name:"AppTodoItem",components:{Icon:y},props:{todo:{type:Object,required:!0,default:()=>({title:"Todo title",description:"Todo description"})}}};const Q={class:"todo__item"},W={class:"todo__item__header__actions__delete"},X={class:"todo__item__header"},Y={class:"todo__item__header__title"},Z={class:"todo__item__header__actions"},oo={class:"todo__item__header__actions__edit"},eo={class:"todo__item__content"};function to(o,e,d,r,b,k){const c=a("Icon");return i(),p("div",Q,[s("div",W,[t(c,{icon:"mdi:close-circle-outline"})]),s("div",null,[s("div",X,[s("div",Y,[s("h3",null,A(d.todo.title),1)]),s("div",Z,[s("div",oo,[t(c,{icon:"mdi:clipboard-edit-outline"})])])]),s("div",eo,[s("p",null,A(d.todo.description),1)])])])}const so=S(G,[["render",to],["__scopeId","data-v-849102de"]]),no=E({name:"TodoView",components:{BaseButton:O,Icon:y,AppModal:J,BaseTextInput:z,AppEmptyState:K,AppListItem:R,AppTodoItem:so,AppNetworkError:x,Spinner:D},data:()=>({showTodoModal:!1,todo:{title:"",description:"",date:""}}),mounted(){console.log("mounted")},beforeMount(){this.makeTodoRequest(),console.log("beforeMount")},methods:{...U(v,{makeTodoRequest:"fetchAllTodo",createTodo:"createTodo"}),async makeCreateTodo(){this.createTodo({title:this.todo.title,description:this.todo.description}),this.showTodoModal=!1}},computed:{...g(v,["todoArray","isLoading"]),...g(f,{bearerToken:"authorizationToken"}),disabledState(){return this.isLoading===!0}}});const ao=o=>(F("data-v-83409c4e"),o=o(),H(),o),io=ao(()=>s("h2",null,"Todo",-1)),lo={key:1},ro={class:"header"};function co(o,e,d,r,b,k){const c=a("AppNetworkError"),B=a("AppTodoItem"),$=a("AppListItem"),M=a("IconPlus"),_=a("BaseButton"),C=a("Icon"),u=a("BaseTextInput"),L=a("Spinner"),V=a("AppModal");return i(),p(I,null,[io,o.todoArray.length?(i(),p("div",lo,[(i(!0),p(I,null,q(o.todoArray,n=>(i(),w($,null,{default:l(()=>[t(B,{todo:n},null,8,["todo"])]),_:2},1024))),256))])):(i(),w(c,{key:0})),s("div",ro,[t(_,{text:"add new",class:"add-new-button",onClick:e[0]||(e[0]=n=>o.showTodoModal=!0)},{default:l(()=>[t(M)]),_:1})]),t(_,{text:"",class:"add-new-fab",onClick:e[1]||(e[1]=n=>o.showTodoModal=!0)},{default:l(()=>[t(C,{icon:"mdi:plus"})]),_:1}),m(t(V,{onCloseModal:e[5]||(e[5]=n=>o.showTodoModal=!1),title:"Add New Todo"},{content:l(()=>[s("form",{action:"",onSubmit:e[4]||(e[4]=j((...n)=>o.makeCreateTodo&&o.makeCreateTodo(...n),["prevent"]))},[t(u,{label:"",type:"text",placeholder:"heading",modelValue:o.todo.title,"onUpdate:modelValue":e[2]||(e[2]=n=>o.todo.title=n),class:"field"},null,8,["modelValue"]),t(u,{placeholder:"details",label:"description",modelValue:o.todo.description,"onUpdate:modelValue":e[3]||(e[3]=n=>o.todo.description=n),class:"field"},null,8,["modelValue"]),t(u,{placeholder:"github url",label:"",type:"date",model:o.todo.date,class:"field"},null,8,["model"]),t(_,{text:"",disabled:o.disabledState,class:P([o.disabledState==!0?"disabled__button":""])},{default:l(()=>[m(s("span",null,"Add Todo",512),[[h,!o.isLoading]]),m(t(L,{"animation-duration":1e3,size:30,color:"#ffffff"},null,512),[[h,o.isLoading]])]),_:1},8,["disabled","class"])],32)]),_:1},512),[[h,o.showTodoModal]])],64)}const mo=S(no,[["render",co],["__scopeId","data-v-83409c4e"]]);export{mo as default};
